{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '49486795-430aa06a6e639b9f88254bdb1'; \n\nexport async function searchImage(query) {\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15`;\n  \n  try {\n    const response = await axios.get(URL);\n    return response.data.hits;  // Повертає масив зображень\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw new Error('Failed to fetch images.');\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function renderGallery(images, isNewSearch = false) {\n  const galleryContainer = document.querySelector('.gallery');\n\n  // Якщо це новий пошук, очищуємо галерею\n  if (isNewSearch) {\n    galleryContainer.innerHTML = '';\n  }\n\n  const markup = images\n    .map(\n      image => `\n      <li class=\"gallery-item\">\n        <a href=\"${image.largeImageURL}\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" width=\"360\" height=\"200\">\n        </a>\n        <div class=\"image-info\">\n          <p><strong>Likes:</strong> ${image.likes}</p>\n          <p><strong>Views:</strong> ${image.views}</p>\n          <p><strong>Comments:</strong> ${image.comments}</p>\n          <p><strong>Downloads:</strong> ${image.downloads}</p>\n        </div>\n      </li>`\n    )\n    .join('');\n\n  galleryContainer.insertAdjacentHTML('beforeend', markup);\n\n  gallery.refresh(); // Оновлюємо SimpleLightbox\n}","import { searchImage } from './js/pixabay-api';  \nimport { renderGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst galleryHTML = document.querySelector('.gallery');\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', handleClick);\n\nfunction handleClick(event) {\n  event.preventDefault();\n\n  const request = form.elements.request.value.trim();\n  if (!request) {\n    iziToast.warning({\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n\n  galleryHTML.innerHTML = ''; // Clear previous results\n  form.elements.request.setAttribute('readonly', true); // Disable input\n  form.elements.button.disabled = true; // Disable submit button\n  form.lastElementChild.classList.remove('hidden'); // Show loader\n\n  searchImage(request)  // Тепер викликається searchImage\n    .then(images => {\n      if (images.length > 0) {\n        form.elements.request.value = ''; // Clear the input field\n        renderGallery(images); // Рендеримо зображення\n      } else {\n        throw new Error('Sorry, no images found. Please try again!');\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        iconUrl: 'img/error.svg',\n        message: error.message,\n      });\n    })\n    .finally(() => {\n      form.elements.request.removeAttribute('readonly'); // Restore input\n      form.elements.button.disabled = false; // Enable button\n      form.lastElementChild.classList.add('hidden'); // Hide loader\n    });\n}"],"names":["API_KEY","searchImage","query","URL","axios","error","gallery","SimpleLightbox","renderGallery","images","isNewSearch","galleryContainer","markup","image","galleryHTML","form","handleClick","event","request","iziToast"],"mappings":"owBAEA,MAAMA,EAAU,qCAET,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,gCAAgCH,CAAO,MAAM,mBAAmBE,CAAK,CAAC,uEAElF,GAAI,CAEF,OADiB,MAAME,EAAM,IAAID,CAAG,GACpB,KAAK,IACtB,OAAQE,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvC,IAAI,MAAM,yBAAyB,CAC7C,CACA,CCXA,MAAMC,EAAU,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQC,EAAc,GAAO,CACzD,MAAMC,EAAmB,SAAS,cAAc,UAAU,EAGtDD,IACFC,EAAiB,UAAY,IAG/B,MAAMC,EAASH,EACZ,IACCI,GAAS;AAAA;AAAA,mBAEIA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,uCAGrBA,EAAM,KAAK;AAAA,uCACXA,EAAM,KAAK;AAAA,0CACRA,EAAM,QAAQ;AAAA,2CACbA,EAAM,SAAS;AAAA;AAAA,YAG1D,EACK,KAAK,EAAE,EAEVF,EAAiB,mBAAmB,YAAaC,CAAM,EAEvDN,EAAQ,QAAO,CACjB,CC/BA,MAAMQ,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAW,EAE3C,SAASA,EAAYC,EAAO,CAC1BA,EAAM,eAAgB,EAEtB,MAAMC,EAAUH,EAAK,SAAS,QAAQ,MAAM,KAAM,EAClD,GAAI,CAACG,EAAS,CACZC,EAAS,QAAQ,CACf,QAAS,8BACf,CAAK,EACD,MACJ,CAEEL,EAAY,UAAY,GACxBC,EAAK,SAAS,QAAQ,aAAa,WAAY,EAAI,EACnDA,EAAK,SAAS,OAAO,SAAW,GAChCA,EAAK,iBAAiB,UAAU,OAAO,QAAQ,EAE/Cd,EAAYiB,CAAO,EAChB,KAAKT,GAAU,CACd,GAAIA,EAAO,OAAS,EAClBM,EAAK,SAAS,QAAQ,MAAQ,GAC9BP,EAAcC,CAAM,MAEpB,OAAM,IAAI,MAAM,2CAA2C,CAE9D,CAAA,EACA,MAAMJ,GAAS,CACdc,EAAS,MAAM,CACb,QAAS,gBACT,QAASd,EAAM,OACvB,CAAO,CACF,CAAA,EACA,QAAQ,IAAM,CACbU,EAAK,SAAS,QAAQ,gBAAgB,UAAU,EAChDA,EAAK,SAAS,OAAO,SAAW,GAChCA,EAAK,iBAAiB,UAAU,IAAI,QAAQ,CAClD,CAAK,CACL"}